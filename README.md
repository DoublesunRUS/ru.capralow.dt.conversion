# dt.conversion

## Конвертация данных для [1C:Enterprise Development Tools](http://v8.1c.ru/overview/IDE/) 1.10

Текущий релиз в ветке [master: 1.0.0](https://github.com/DoublesunRUS/ru.capralow.dt.conversion/tree/master).<br>
Разработка ведется в ветке [dev](https://github.com/DoublesunRUS/ru.capralow.dt.conversion/tree/dev).<br>

В данном репозитории хранятся только исходники.<br>

Плагин можно установить через Eclipse с сайта обновления http://capralow.ru/edt/conversion .<br>
Для самостоятельной сборки плагина необходимо иметь доступ к сайту https://releases.1c.ru и настроить соответствующим образом Maven. Подробности настройки написаны [здесь](https://github.com/1C-Company/dt-example-plugins/blob/master/simple-plugin/README.md).<br>

### Редактор модуля обмена (dev)
При открытии общего модуля, если модуль пустой или есть Область "ПроцедурыКонвертации", то у редактора общего модуля появляется закладка "Конвертация".<br>
Внешний вид закладки похож на редактор конвертации в конфигурации 1С:Конвертация данных 3.<br>
Внутри правил доступен синтаксис контроль, контекстная подсказка и конструктор запроса.<br>
Сохранение изменений пока не работает. Нажатие в правилах на кнопку ОК **разрушит модуль**.<br>
Редактор читает и записывает только модуль в формате 2, формат 1 не тестировался.<br>

### Описание формата загрузки (dev)
Доступно формирование описания формата загрузки в виде markdown.<br>
Описание формата строится от интерфейсных подсистем. В качестве объектов конфигурации выводятся синонимы.<br>
Для каждого объекта формата выводится, по каким полям поиска ищется сопоставленный ему объект конфигурации.<br>
Ссылки на ключевые поля "разворачиваются" до полей, входящих в ключевые. Если поле составного типа, то ключевые поля отображаются для каждого типа отдельно.<br>
Для просмотра файла можно установить редактор [Typora](https://typora.io/).<br>

### Дополнительные проверки конфигурации (dev)
Проверяется что для указанных версий формата присутствуют пакеты XDTO.<br>
Для объектов пакета XDTO проверяется, что они наследуют тип Object.<br>

### Панель "Конвертация данных"
Панель паказывает, какие версии формата доступны для каждой конфигурации.<br>
Если в рабочей области больше одной конфигурации, панель для каждой пары конфигураций показывает какими форматами они могут обмениваться.<br>
